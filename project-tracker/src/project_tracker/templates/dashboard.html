{% extends "base.html" %}

{% block content %}
<!-- Overview Cards -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"
     hx-get="/api/progress"
     hx-trigger="every 5s"
     hx-swap="none">
    {% include "components/progress.html" %}
</div>

<!-- Main Grid -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Todos (2 columns) -->
    <div class="lg:col-span-2">
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Active Todos</h2>
            <div hx-get="/api/todos"
                 hx-trigger="load, every 5s"
                 hx-swap="innerHTML">
                {% include "components/todos.html" %}
            </div>
        </div>
    </div>

    <!-- Agent Activity (1 column) -->
    <div class="lg:col-span-1">
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Agent Activity</h2>
            <div hx-get="/api/agents"
                 hx-trigger="load, every 5s"
                 hx-swap="innerHTML">
                {% include "components/agents.html" %}
            </div>
        </div>
    </div>
</div>

<!-- Timeline -->
<div class="mt-6">
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
        <h2 class="text-lg font-semibold text-gray-900 mb-4">Project Timeline</h2>
        <div hx-get="/api/timeline"
             hx-trigger="load, every 10s"
             hx-swap="innerHTML">
            {% include "components/timeline.html" %}
        </div>
    </div>
</div>

<!-- File Statistics -->
<div class="mt-6">
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
        <h2 class="text-lg font-semibold text-gray-900 mb-4">File Statistics</h2>
        <div hx-get="/api/files"
             hx-trigger="load, every 10s"
             hx-swap="innerHTML">
            <p class="text-gray-500">Loading...</p>
        </div>
    </div>
</div>
{% endblock %}
